<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flashcards Vocabulary</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <button class="back-button" id="backBtn">Back</button>
      <h1>Flashcards Vocabulary</h1>
    </header>
    <div class="content">
      <div class="position-indicator" id="positionIndicator">Card 1 of 5</div>
      <div class="flashcard-container">
        <div class="flashcard" id="flashcard">
          <div class="front">
            Hello
            <button class="speak-button" id="speakBtn">üîä</button>
          </div>
          <div class="back">Xin ch√†o</div>
        </div>
      </div>
      <div class="buttons">
        <button class="button" id="prevBtn">‚Üê Previous</button>
        <button class="button" id="nextBtn">Next ‚Üí</button>
      </div>
    </div>
    <script>
      // JavaScript Logic
      const flashcard = document.getElementById("flashcard");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const backBtn = document.getElementById("backBtn");
      const speakBtn = document.getElementById("speakBtn");
      const positionIndicator = document.getElementById("positionIndicator");

      // Vocabulary data
      const vocabulary = [
        { english: "House", vietnamese: "M·ªôt t√≤a nh√† (v·∫≠t ch·∫•t)" },
        { english: "Home", vietnamese: "M√°i ·∫•m gia ƒë√¨nh (t√¨nh c·∫£m)" },
        { english: "Accommodation", vietnamese: "Ch·ªó ·ªü" },
        { english: "Detached house", vietnamese: "Nh√† bi·ªát l·∫≠p" },
        { english: "Terraced house", vietnamese: "Nh√† li·ªÅn k·ªÅ" },
        { english: "Townhouse", vietnamese: "Nh√† li·ªÅn k·ªÅ" },
        { english: "Dormitory", vietnamese: "K√Ω t√∫c x√°" },
        { english: "Dorm", vietnamese: "K√Ω t√∫c x√°" },
        { english: "Rented", vietnamese: "Thu√™" },
        { english: "Apartment", vietnamese: "CƒÉn h·ªô, chung c∆∞" },
        { english: "Flat", vietnamese: "CƒÉn h·ªô, chung c∆∞" },
        { english: "Floor", vietnamese: "T·∫ßng" },
        { english: "Storey", vietnamese: "T·∫ßng" },
        { english: "Bungalow", vietnamese: "Nh√† tr·ªát (1 t·∫ßng)" },
        { english: "Duplex", vietnamese: "(Nh√†/cƒÉn h·ªô) 2 t·∫ßng" },
        { english: "Condo", vietnamese: "CƒÉn h·ªô, chung c∆∞" },
        { english: "Beachfront", vietnamese: "H∆∞·ªõng ra bi·ªÉn" },
        {
          english: "Studio apartment",
          vietnamese: "CƒÉn h·ªô studio (cƒÉn h·ªô m·ªôt ph√≤ng)",
        },
        { english: "Penthouse", vietnamese: "CƒÉn h·ªô penthouse" },
        { english: "Luxurious", vietnamese: "Xa hoa, l·ªông l·∫´y" },
        { english: "Skyscraper", vietnamese: "T√≤a nh√† ch·ªçc tr·ªùi" },
        { english: "Spacious", vietnamese: "R·ªông l·ªõn" },
        { english: "Overlook", vietnamese: "Nh√¨n t·ª´ cao xu·ªëng" },
        { english: "Tidy and neat", vietnamese: "S·∫°ch s·∫Ω v√† g·ªçn g√†ng" },
        { english: "Furnished", vietnamese: "C√≥ s·∫µn ƒë·ªì ƒë·∫°c" },
        { english: "Cozy", vietnamese: "·∫§m c√∫ng" },
        { english: "Cramped", vietnamese: "Ch·∫≠t h·∫πp" },
        { english: "Noisy", vietnamese: "·ªín √†o" },
      ];

      let currentIndex = 0;

      function updateFlashcard() {
        const { english, vietnamese } = vocabulary[currentIndex];
        flashcard.querySelector(".front").textContent = english;
        flashcard.querySelector(".back").textContent = vietnamese;
        flashcard.querySelector(".front").appendChild(speakBtn); // Add the button to the front
        positionIndicator.textContent = `Card ${currentIndex + 1} of ${
          vocabulary.length
        }`;
      }

      function playAudio(text) {
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = "en-US";
        speechSynthesis.speak(utterance);
      }

      speakBtn.addEventListener("click", (e) => {
        e.stopPropagation(); // Prevent flipping when clicking the button
        const englishWord = vocabulary[currentIndex].english;
        playAudio(englishWord);
      });

      flashcard.addEventListener("click", () => {
        flashcard.classList.toggle("is-flipped");
      });

      prevBtn.addEventListener("click", () => {
        currentIndex =
          (currentIndex - 1 + vocabulary.length) % vocabulary.length;
        updateFlashcard();
      });

      nextBtn.addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % vocabulary.length;
        updateFlashcard();
      });

      backBtn.addEventListener("click", () => {
        window.history.back();
      });

      // Initialize the flashcard
      updateFlashcard();
    </script>
  </body>
</html>
